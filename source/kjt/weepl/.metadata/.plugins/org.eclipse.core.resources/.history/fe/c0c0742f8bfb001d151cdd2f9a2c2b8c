<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout1}">
<head>
<meta name="_csrf" th:content="${_csrf?.token}" />
<meta name="_csrf_header" th:content="${_csrf?.headerName}" />
<meta charset="UTF-8">
</head>
<!-- 사용자 script 추가 -->
<th:block layout:fragment="script">
	<script th:inline="javascript">
		function clickLike() {
			var mhinfoCd = $('#mhinfoCd').val();
			$.ajax({
				type : "get",
				url : "/mhinfo/likes",
				data : {
					"mhinfoCd" : mhinfoCd
				},
				contentType : "application/json",
				success : function(data) {
					document.getElementById('likeCnt').innerHTML = data.result;
				},
				error : function() {
					alert("에러발생");
				}
			})
		}
		
	</script>
</th:block>
<script type="text/javascript">
	
</script>
<!-- 사용자 CSS 추가 -->
<th:block layout:fragment="css">
	<style>
.mgb
-15 {
	margin -bottom: 15px;
}

.mgt
-30 {
	margin -top: 30px;
}

.mgt
-50 {
	margin -top: 50px;
}

.repImgDiv {
	margin -right: 15px;
	height: auto;
	width: 50%;
}

.repImg {
	width: 100%;
	height: 400px;
}

.wd50 {
	height: auto;
	width: 50%;
}

.carousel-control-prev,
.carousel-control-next {
  z-index: 1;
}

.carousel-item img {
  max-height: 100%;
  max-width: 100%;
  display: block;
  margin: 0 auto;
}

</style>
</th:block>
<div layout:fragment="content"
	style="margin-left: 25%; margin-right: 25%">
	<input type="hidden" id="mhinfoCd" th:value="${mhinfo.cd}">

	<!-- <div class="d-flex">
		<div class="repImgDiv">
			<img th:src="${mhinfo.boardImgDtoList[0].imgUrl}" class="rounded repImg" th:alt="${mhinfo.title}">
		</div>
	</div> -->

	<!-- <div class="jumbotron jumbotron-fluid mgt-30">
		<div class="container">
			<h4 class="display-5">내용</h4>
			<hr class="my-4">
			<p class="lead" th:text="${mhinfo.content}"></p>
		</div>
	</div> -->
	<div th:each="boardImg : ${mhinfo.boardImgDtoList}" class="text-center">
		<img th:if="${not #strings.isEmpty(boardImg.imgUrl)}"
			th:src="${boardImg.imgUrl}" class="rounded mgb-15" width="800">


	</div> 
<span style="text-align: center;">
	<button type="button" class="btn btn-primary"
		th:onclick="|location.href='/mhinfo/admin/mhinfo/${mhinfo.cd}'|" sec:authorize="hasAnyRole('ROLE_COUNSELOR', 'ROLE_ADMIN')">수정</button>
	<button type="button" class="btn btn-primary"
		th:onclick="|location.href='/mhinfo/mhinfos'|">목록</button>
	<button type="button" class="btn btn-primary"
		th:onclick="|location.href='/mhinfo/admin/delete/${mhinfo.cd}'| " sec:authorize="hasAnyAuthority('ROLE_ADMIN')">삭제</button>
	<button type="button" class="btn btn-primary" onClick="clickLike()" >
		좋아요<span id="likeCnt" th:text="${mhinfo.likeCnt}"></span>
	</button>

</span>

</div>

</html>

