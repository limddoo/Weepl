/*
* custom alert jQuery Plugin
* author Yoon  (info@billible.co.kr) [http://billible.co.kr]
*
* min version 1.0.2 [JUL. 2022]
*
* @changelog
* v 1.0.1      ->   2020.07 플러그인 완성
* v 1.0.2      ->   버튼 위치 변경 옵션 추가
*/

!function(e){e.fn.alert=function(n,t){e(this).queue(function(){e.alert(n,t)})},e.fn.confirm=function(n,t){e(this).queue(function(){e.alert(n,t)})},e.fn.prompt=function(n,t){e(this).queue(function(){e.alert(n,t)})};var i="IDX"+Math.floor(1e3*Math.random()),o="TT"+Math.floor(1e3*Math.random()),c="TB"+Math.floor(1e3*Math.random()),a="EM"+Math.floor(1e3*Math.random()),l="BTN"+Math.floor(1e3*Math.random()),f="INPUT"+Math.floor(1e3*Math.random()),p="popup_open",t="body",d={title:"알림",em:"",buttonReverse:!1,callEvent:null,cancelEvent:null,confirmButton:"확인",cancelButton:"취소",input:"text",value:null},u={text:function(){return e('<div class="input-box">').append('<input id="'+f+'" type="text">')},tel:function(){return e('<div class="input-box">').append('<input id="'+f+'" type="tel">')},number:function(){return e('<div class="input-box">').append('<input id="'+f+'" type="number">')},password:function(){return e('<div class="input-box">').append('<input id="'+f+'" type="password">')}},r=function(n){return e("<ul>").append(e("<li>").append(e('<a href="#" class="confirm">'+n.confirmButton+"</a>")))},s=function(n){return e("<ul "+(n.buttonReverse?"class='button-reverse'":"")+">").append(e("<li>").append(e('<a href="#" class="close">'+n.cancelButton+"</a>"))).append(e("<li>").append(e('<a href="#" class="confirm">'+n.confirmButton+"</a>")))},m=function(n){return e("<ul "+(n.buttonReverse?"class='button-reverse'":"")+">").append(e("<li>").append(e('<a href="#" class="close">'+n.cancelButton+"</a>"))).append(e("<li>").append(e('<a href="#" class="confirm">'+n.confirmButton+"</a>")))},v={creation:function(n){e(t).append(e('<div id="'+i+'" class="popup">').append(e('<div class="popup-wrap">').append(e('<h2 id="'+o+'" class="popup-title">')).append(e('<div class="popup-content">').append(e('<div class="text-box">').append(e('<p id="'+c+'">')).append(e('<strong id="'+a+'">'))).append(e('<div class="popup-btn" id="'+l+'">')))).append('<div class="dimmed"></div>')),n()},confirm:function(n){v.close(),v.callEvent(n)},cancel:function(n){v.close(),v.cancelEvent(n)},close:function(){e(t).removeClass(p),e("#"+i).remove()},show:function(){e(t).addClass(p)},callEvent:function(n){"function"==typeof n.callEvent&&n.callEvent(n.value)},cancelEvent:function(n){"function"==typeof n.cancelEvent&&n.cancelEvent()}};e.alert=function(n,t){if(e("body").hasClass(p))return!1;"function"!=typeof n&&"object"!=typeof n||(n="["+typeof n+"]"),t=e.extend({},d,t),v.creation(function(){e("#"+i).addClass("alert"),e("#"+i).find("#"+l).append(r(t)),t.title?e("#"+i).find("#"+o).html(t.title):e("#"+i).find("#"+o).remove(),e("#"+i).find("#"+c).html(n),e("#"+i).find("#"+a).html(t.em),e("#"+i).find("#"+l).find(".confirm").unbind("click.confirm").bind("click.confirm",function(n){n.preventDefault(),v.confirm(t)}),v.show()})},e.confirm=function(n,t){if(e("body").hasClass(p))return!1;"function"!=typeof n&&"object"!=typeof n||(n="["+typeof n+"]"),t=e.extend({},d,t),v.creation(function(){e("#"+i).addClass("confirm"),e("#"+i).find("#"+l).append(s(t)),e("#"+i).find("#"+o).html(t.title),e("#"+i).find("#"+c).html(n),e("#"+i).find("#"+a).html(t.em),e("#"+i).find("#"+l).find(".confirm").unbind("click.confirm").bind("click.confirm",function(n){n.preventDefault(),v.confirm(t)}),e("#"+i).find("#"+l).find(".close").unbind("click.close").bind("click.close",function(n){n.preventDefault(),v.cancel(t)}),v.show()})},e.prompt=function(n,t){if(e("body").hasClass(p))return!1;"function"!=typeof n&&"object"!=typeof n||(n="["+typeof n+"]"),t=e.extend({},d,t),v.creation(function(){console.log(t),e("#"+i).addClass("prompt"),e("#"+i).find("#"+l).before(u[t.input]()),e("#"+i).find("#"+l).append(m(t)),e("#"+i).find("#"+o).html(t.title),e("#"+i).find("#"+c).html(n),e("#"+i).find("#"+a).html(t.em),e("#"+i).find("#"+l).find(".confirm").unbind("click.confirm").bind("click.confirm",function(n){n.preventDefault(),t.value=e("#"+i).find("#"+f).val(),v.confirm(t)}),e("#"+i).find("#"+l).find(".close").unbind("click.close").bind("click.close",function(n){n.preventDefault(),v.cancel(t)}),v.show()})},e.close=function(){e("body").hasClass(p)&&v.close()}}(jQuery);